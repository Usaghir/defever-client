{"ast":null,"code":"import _regeneratorRuntime from\"/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import Api from\"./Api\";var UserApi=/*#__PURE__*/function(){function UserApi(props){_classCallCheck(this,UserApi);this.currentUser={id:\"Loading...\",name:\"Loading...\",email:\"Loading...\",address:\"Loading...\",phone:\"Loading...\"};this.currentUserSet=function(){};this.loadUser();}_createClass(UserApi,[{key:\"current\",value:function current(){return Api.get('/user');}},{key:\"updateUser\",value:function updateUser(user){return Api.put('/user',user);}},{key:\"loadUser\",value:function(){var _loadUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userObject;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.current();case 3:userObject=_context.sent;this.currentUser=userObject.data;this.currentUserSet(this.currentUser);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,this,[[0,8]]);}));function loadUser(){return _loadUser.apply(this,arguments);}return loadUser;}()},{key:\"bindCurrentUserStateSetter\",value:function bindCurrentUserStateSetter(currentUserStateSetter){this.currentUserSet=currentUserStateSetter;}}]);return UserApi;}();export default new UserApi();","map":{"version":3,"sources":["/Users/umerraja/All Cloud Drives /Google Drive/Study/Study Data/Programming/Repositories/Projects/defever-client/src/api/UserApi.js"],"names":["Api","UserApi","props","currentUser","id","name","email","address","phone","currentUserSet","loadUser","get","user","put","current","userObject","data","console","error","currentUserStateSetter"],"mappings":"u5BAAA,MAAOA,CAAAA,GAAP,KAAgB,OAAhB,C,GAEMC,CAAAA,O,yBACF,iBAAYC,KAAZ,CAAmB,oCAInBC,WAJmB,CAIL,CACVC,EAAE,CAAE,YADM,CAEVC,IAAI,CAAE,YAFI,CAGVC,KAAK,CAAE,YAHG,CAIVC,OAAO,CAAE,YAJC,CAKVC,KAAK,CAAE,YALG,CAJK,MAWnBC,cAXmB,CAWF,UAAM,CAAE,CAXN,CACf,KAAKC,QAAL,GACH,C,6DAWS,CACN,MAAOV,CAAAA,GAAG,CAACW,GAAJ,CAAQ,OAAR,CAAP,CACH,C,8CAEUC,I,CAAM,CACb,MAAOZ,CAAAA,GAAG,CAACa,GAAJ,CAAQ,OAAR,CAAiBD,IAAjB,CAAP,CACH,C,iSAI8B,MAAKE,OAAL,E,QAAnBC,U,eACJ,KAAKZ,WAAL,CAAmBY,UAAU,CAACC,IAA9B,CACA,KAAKP,cAAL,CAAoB,KAAKN,WAAzB,E,+EAEAc,OAAO,CAACC,KAAR,c,oOAImBC,sB,CAAwB,CAC/C,KAAKV,cAAL,CAAsBU,sBAAtB,CACH,C,uBAGL,cAAe,IAAIlB,CAAAA,OAAJ,EAAf","sourcesContent":["import Api from \"./Api\";\n\nclass UserApi {\n    constructor(props) {\n        this.loadUser();\n    }\n\n    currentUser = {\n        id: \"Loading...\",\n        name: \"Loading...\",\n        email: \"Loading...\",\n        address: \"Loading...\",\n        phone: \"Loading...\",\n    }\n    currentUserSet = () => {};\n\n    current() {\n        return Api.get('/user');\n    }\n\n    updateUser(user) {\n        return Api.put('/user', user);\n    }\n\n    async loadUser() {\n        try {\n            let userObject = await this.current();\n            this.currentUser = userObject.data;\n            this.currentUserSet(this.currentUser);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    bindCurrentUserStateSetter(currentUserStateSetter) {\n        this.currentUserSet = currentUserStateSetter;\n    }\n}\n\nexport default new UserApi();\n"]},"metadata":{},"sourceType":"module"}